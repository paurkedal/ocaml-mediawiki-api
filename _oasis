OASISFormat: 0.3
Name: mediawiki-api
Version: 0.4
Synopsis: MediaWiki API
Authors: Petter A. Urkedal
License: LGPL-3 with OCaml linking exception
Plugins: DevFiles (0.3), META (0.3)
BuildTools: ocamlbuild

Flag tools
  Description: Install MediaWiki command-line utilities.
  Default: true

Library "mediawiki-api"
  Path: src
  Modules: Mwapi, Mwapi_cookiejar, Mwapi_lwt, Mwapi_utils,
    Mwapi_createaccount,
    Mwapi_edit,
    Mwapi_login,
    Mwapi_parse,
    Mwapi_query,
    Mwapi_query_list,
    Mwapi_query_prop,
    Mwapi_query_prop_revisions
  BuildDepends:
    calendar, cohttp, cohttp.lwt,
    kojson, lwt, prime, ssl, xdg-basedir, yojson

Document "mediawiki-api"
  Title: MediaWiki API
  Type: ocamlbuild (0.3)
  InstallDir: $htmldir/html
  BuildTools+: ocamldoc
  XOCamlbuildPath: src
  XOCamlbuildLibraries: mediawiki-api
  DataFiles: COPYING ($docdir), COPYING.LESSER ($docdir)

Executable "mw-edit"
  Build$: flag(tools)
  BuildDepends: mediawiki-api, pcre
  Path: bin
  MainIs: mw_edit.ml
  CompiledObject: best

Executable "mw-filter"
  Build$: flag(tools)
  BuildDepends: cmdliner, mediawiki-api
  Path: bin
  MainIs: mw_filter.ml
  CompiledObject: best
